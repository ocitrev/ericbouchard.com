function createCookie(n,t){document.cookie=n+"="+escape(t)+"; path="+g_cookiePath}function toggleHistogram(n,t){n.ctrlKey&&(g_showHistogram==0?(g_showHistogram=1,createCookie("histogram","luminosity"),t.src=g_imageHistogram+"&type=luminosity"):g_showHistogram==1?(g_showHistogram=2,createCookie("histogram","colors"),t.src=g_imageHistogram+"&type=colors"):(g_showHistogram=0,createCookie("histogram","hide"),t.src=g_imageOriginal))}function navigateNext(){var n=document.getElementById("nextHref");n!=null&&(document.location=n.href)}function closeup(n,t,i){var r=document.getElementById(n);closeup_visible?(r.src=g_imageOriginal,closeup_visible=!1,r.onclick=null):(r.src=i,closeup_visible=!0,r.onclick=closeup_onclick),t.cancelBubble=!0}function closeup_onclick(){this.src=g_imageOriginal,closeup_visible=!1}function setStyleDisplay(n,t,i,r){var f=document.getElementById(n),u;f!=null&&(f.style.display=t),u=document.getElementById(i),u!=null&&(u.style.display=r)}function createHttpRequest(){httpRequest==null&&(window.ActiveXObject?httpRequest=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(httpRequest=new XMLHttpRequest),httpRequest!=null&&(httpRequest.onreadystatechange=processRequest))}function submitComment(n,t,i,r,u){var f;if(resetError(),createHttpRequest(),httpRequest!=null){var e=document.getElementById(n),o=document.getElementById(t),s=document.getElementById(i);httpRequest.open("POST",r,!0),httpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),f="author="+encodeURIComponent(e.value)+"&spamproof="+encodeURIComponent(s.value)+"&comment="+encodeURIComponent(o.value)+"&photohash="+encodeURIComponent(u),httpRequest.send(f)}else document.forms.Form1.submit()}function resetError(){var i=document.getElementById("comments_commentAuthor"),n,t;i!=null&&(i.style.borderColor="",i.style.borderStyle=""),n=document.getElementById("comments_commentText"),n!=null&&(n.style.borderColor="",n.style.borderStyle=""),t=document.getElementById("comments_spamProof"),t!=null&&(t.style.borderColor="",t.style.borderStyle="")}function processRequest(){var e,o,r,u,f,i;if(httpRequest.readyState==4)if(httpRequest.status==200)e=document.getElementById("commentsPlaceHolderDiv"),o=document.getElementById("btnCancel"),o.click(),e.innerHTML=httpRequest.responseText,document.forms.Form1.reset();else{UpdateCaptcha();var h=httpRequest.responseXML,s=h.documentElement,n=s.getElementsByTagName("paramName"),t=s.getElementsByTagName("message");n!=null&&n.length>0?(n=n[0],n.text?i=n.text:n.textContent&&(i=n.textContent),i=="author"?(r=document.getElementById("comments_commentAuthor"),r!=null&&(r.style.borderColor="red",r.style.borderStyle="solid")):i=="comment"?(u=document.getElementById("comments_commentText"),u!=null&&(u.style.borderColor="red",u.style.borderStyle="solid")):i=="spamproof"?(f=document.getElementById("comments_spamProof"),f!=null&&(f.style.borderColor="red",f.style.borderStyle="solid")):alert("Une erreure inconue est subvenue.")):t!=null&&t.length>0&&(t=t[0],t.text?i=t.text:t.textContent&&(i=t.textContent),alert(i))}}function randomString(n){for(var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",u="",i,t=0;t<n;t++)i=Math.floor(Math.random()*r.length),u+=r.substring(i,i+1);return u}function UpdateCaptcha(){var n=document.getElementById("comments_captchaImage"),t=randomString(12);n.src="captcha.rem?key="+t}var closeup_visible=!1,httpRequest=null;